{"ast":null,"code":"import _objectSpread from \"/home/waleska/Documents/makeup/Local/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/waleska/Documents/makeup/Local/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/waleska/Documents/makeup/Local/client/src/views/Services/ServicesPage.js\";\nimport React, { useEffect } from \"react\";\nimport api from \"./../../Api/api\";\nimport { Switch, Route, Redirect } from 'react-router-dom'; // @material-ui/core components\n\nimport { makeStyles } from \"@material-ui/core/styles\"; // components - sections\n\nimport Header from \"components/Header/Header.js\";\nimport MyHeaderLinks from 'components/Header/MyHeadersLinks';\nimport ReservationForm from './Sections/ReservationForm';\nimport AllServices from './Sections/AllServices';\nimport DateAndTime from \"./Sections/DateAndTime\"; //styles\n\nimport styles from \"assets/jss/material-kit-react/views/profilePage.js\";\nimport styles_bckg from \"assets/jss/material-kit-react/views/loginPage.js\";\nimport image from \"assets/img/logo.jpg\";\nvar dashboardRoutes = [];\nvar useStyles = makeStyles(styles);\nvar useStyle_bckg = makeStyles(styles_bckg);\nexport default function Cards(props) {\n  var classes = useStyles();\n  var classes_bckg = useStyle_bckg();\n  var rest = Object.assign({}, props);\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      redirect = _React$useState2[0],\n      setRedirect = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      error = _React$useState4[0],\n      setError = _React$useState4[1];\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      send = _React$useState6[0],\n      setSend = _React$useState6[1];\n\n  var _React$useState7 = React.useState({\n    makeuptype: '',\n    date: '',\n    numberpeoplemkup: 0,\n    hours: '',\n    fname: '',\n    email: '',\n    phone: '',\n    address: \"\"\n  }),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      data = _React$useState8[0],\n      setData = _React$useState8[1];\n\n  var makeuptype = data.makeuptype,\n      date = data.date,\n      numberpeoplemkup = data.numberpeoplemkup,\n      hours = data.hours,\n      fname = data.fname,\n      email = data.email,\n      phone = data.phone,\n      address = data.address;\n\n  var getData = function getData(infoUser, sendData) {\n    setData(_objectSpread({}, data, {}, infoUser));\n\n    if (sendData) {\n      setSend(true);\n    } else {\n      setSend(false);\n    }\n  };\n\n  var sendData = function sendData() {\n    api.newappointment(data).then(function (res) {\n      var resFromBack = res.data; //mensajes error //\n      //console.log(resFromBack)\n\n      if (resFromBack.error) {\n        var displayErrors = resFromBack.errors.map(function (error) {\n          return React.createElement(\"h5\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 67\n            },\n            __self: this\n          }, error.msg);\n        });\n        setError(displayErrors);\n      } else {\n        console.log('test');\n        setRedirect(React.createElement(Redirect, {\n          to: \"/thanksreserve\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        })); //setRedirect(true)        \n      }\n    })[\"catch\"](function (error) {\n      console.log(error);\n    });\n  };\n\n  useEffect(function () {\n    if (send) {\n      sendData();\n      setSend(false);\n    }\n  });\n  console.log(redirect);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, redirect, React.createElement(Header, Object.assign({\n    absolute: true,\n    color: \"transparent\",\n    routes: dashboardRoutes,\n    brand: \"EstefiMakeup\",\n    rightLinks: React.createElement(MyHeaderLinks, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    })\n  }, rest, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: classes_bckg.pageHeader,\n    style: {\n      backgroundImage: \"url(\" + image + \")\",\n      backgroundSize: \"cover\",\n      backgroundPosition: \"top center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, React.createElement(Route, {\n    path: \"/services/reservationform/:titulo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(ReservationForm, {\n    getData: getData,\n    fname: fname,\n    email: email,\n    phone: phone,\n    address: address,\n    error: error,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  })), React.createElement(Route, {\n    path: \"/services/dateandtime/:titulo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(DateAndTime, {\n    getData: getData,\n    hours: hours,\n    date: date,\n    numberpeoplemkup: numberpeoplemkup,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  })), React.createElement(Route, {\n    path: \"/services/all\",\n    component: AllServices,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }))));\n}","map":{"version":3,"sources":["/home/waleska/Documents/makeup/Local/client/src/views/Services/ServicesPage.js"],"names":["React","useEffect","api","Switch","Route","Redirect","makeStyles","Header","MyHeaderLinks","ReservationForm","AllServices","DateAndTime","styles","styles_bckg","image","dashboardRoutes","useStyles","useStyle_bckg","Cards","props","classes","classes_bckg","rest","useState","redirect","setRedirect","error","setError","send","setSend","makeuptype","date","numberpeoplemkup","hours","fname","email","phone","address","data","setData","getData","infoUser","sendData","newappointment","then","res","resFromBack","displayErrors","errors","map","msg","console","log","pageHeader","backgroundImage","backgroundSize","backgroundPosition"],"mappings":"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","sourcesContent":["import React,{useEffect} from \"react\";\nimport api from \"./../../Api/api\";\nimport {Switch,Route,Redirect} from 'react-router-dom';\n\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\n\n// components - sections\nimport Header from \"components/Header/Header.js\";\nimport MyHeaderLinks from 'components/Header/MyHeadersLinks';\nimport ReservationForm from './Sections/ReservationForm';\nimport AllServices from './Sections/AllServices';\nimport DateAndTime from \"./Sections/DateAndTime\";\n\n//styles\nimport styles from \"assets/jss/material-kit-react/views/profilePage.js\";\nimport styles_bckg from \"assets/jss/material-kit-react/views/loginPage.js\";\n\nimport image from \"assets/img/logo.jpg\";\n\nconst dashboardRoutes = [];  \nconst useStyles = makeStyles(styles);\nconst useStyle_bckg = makeStyles(styles_bckg);\n\n\nexport default function Cards(props) {\n  const classes = useStyles();\n  const classes_bckg = useStyle_bckg();\n  const { ...rest } = props;\n\n  let [redirect, setRedirect] = React.useState(null);\n  let [error,setError] = React.useState(null);\n  let [send, setSend] = React.useState(false);\n  let [data, setData] = React.useState({\n    makeuptype: '',\n    date: '',\n    numberpeoplemkup: 0,\n    hours: '',\n    fname: '',\n    email: '',\n    phone: '',\n    address:\"\"\n  })\n  let {makeuptype, date, numberpeoplemkup, hours, fname, email, phone, address} =  data;\n\n  const getData = (infoUser,sendData) =>{\n    setData({\n      ...data,\n      ...infoUser\n    })\n    if(sendData){\n      setSend(true)\n    }else{\n      setSend(false)\n    }\n  }\n\n  const sendData = () =>{\n    \n    api.newappointment(data).then(res=> {\n        let resFromBack = res.data;\n        //mensajes error //\n        //console.log(resFromBack)\n        if(resFromBack.error){\n          let displayErrors = resFromBack.errors.map(error=>{\n\n            return <h5>{error.msg}</h5>\n          })\n          setError(displayErrors)\n        }else{\n          console.log('test')\n          setRedirect(<Redirect to=\"/thanksreserve\" />)\n          //setRedirect(true)        \n        }\n    })  \n    .catch(error=>{\n        console.log(error)\n    })\n\n  };\n\n  useEffect(() => {\n    if(send){\n      sendData()\n      setSend(false)\n    }\n  })\n\n  console.log(redirect)\n\n  return (\n      <div >\n        {redirect}\n        {/* {redirect ? <Redirect to=\"/\" /> : null  } */}\n        <Header\n        absolute\n        color=\"transparent\"\n        routes={dashboardRoutes}\n        brand=\"EstefiMakeup\"\n        rightLinks={<MyHeaderLinks />}\n        {...rest}  \n      />\n      \n      <div\n        className={classes_bckg.pageHeader}\n        style={{\n          backgroundImage: \"url(\" + image + \")\",\n          backgroundSize: \"cover\",\n          backgroundPosition: \"top center\"\n        }}\n      >\n        <Switch>\n        <Route path=\"/services/reservationform/:titulo\" >\n         <ReservationForm getData={getData} \n         fname = {fname}\n         email = {email}\n         phone = {phone}\n         address = {address}\n         error = {error}\n         />\n         </Route>\n        <Route path=\"/services/dateandtime/:titulo\" > \n          <DateAndTime getData={getData} \n          hours = {hours}\n          date = {date}\n          numberpeoplemkup = {numberpeoplemkup}\n          /> \n        </Route>\n\n        <Route path=\"/services/all\" component={AllServices} />\n        </Switch>\n    </div>\n    \n    </div>\n    \n  );\n\n}\n"]},"metadata":{},"sourceType":"module"}